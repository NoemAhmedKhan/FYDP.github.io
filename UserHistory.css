/* =============================================
   MEDFINDER — User History Dashboard
   Roboto | #208B3A Green System
   Consistent with UserDashboard.css pattern
   ============================================= */

/* ── Variables ── */
:root {
    --green:          #208B3A;
    --green-light:    #52B167;
    --green-bg:       #f0fdf4;
    --green-border:   #bbf7d0;
    --white:          #F8FAF8;
    --white-pure:     #ffffff;
    --dark:           #1a1a1a;
    --gray:           #6b7280;
    --gray-mid:       #9ca3af;
    --gray-light:     #e5e7eb;
    --gray-xlight:    #f3f4f6;
    --bg:             #f5f7f5;
    --red:            #ef4444;

    /* Med icon palette */
    --indigo:         #6366f1;
    --indigo-bg:      #eef2ff;
    --red-bg:         #fef2f2;
    --amber:          #f59e0b;
    --amber-bg:       #fffbeb;
    --cyan:           #06b6d4;
    --cyan-bg:        #ecfeff;
    --pink:           #ec4899;
    --pink-bg:        #fdf2f8;

    --font:           'Roboto', -apple-system, sans-serif;
    --fw-r: 400; --fw-m: 500; --fw-b: 700;

    --r-sm:   6px;
    --r-md:   10px;
    --r-lg:   16px;
    --r-xl:   20px;
    --r-pill: 999px;

    --shadow-sm: 0 1px 4px rgba(0,0,0,.07);
    --shadow-md: 0 4px 14px rgba(0,0,0,.10);
    --t: all .22s ease;

    --sidebar-w: 248px;
}

/* ── Reset ── */
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
    font-family: var(--font);
    font-weight: var(--fw-r);
    background: var(--bg);
    color: var(--dark);
    min-height: 100vh;
    display: flex;
    overflow-x: hidden;
}
img    { max-width: 100%; height: auto; display: block; }
a      { text-decoration: none; color: inherit; }
button { font-family: inherit; cursor: pointer; border: none; background: none; }
ul     { list-style: none; }

/* =============================================
   SIDEBAR
   ============================================= */
.sidebar {
    width: var(--sidebar-w);
    flex-shrink: 0;
    position: relative;
    z-index: 200;
}
.sidebar-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.45);
    z-index: 190;
}
.sidebar-inner {
    width: var(--sidebar-w);
    height: 100vh;
    position: fixed;
    top: 0; left: 0;
    background: var(--white-pure);
    border-right: 1px solid var(--gray-light);
    display: flex;
    flex-direction: column;
    padding: 24px 14px 20px;
    overflow-y: auto;
    transition: transform .3s ease;
}

/* Logo */
.sidebar__logo {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 0 6px;
    margin-bottom: 28px;
}
.sidebar__logo-icon {
    width: 40px; height: 40px;
    border-radius: 10px;
    background: var(--green-bg);
    border: 1px solid var(--green-border);
    display: flex; align-items: center; justify-content: center;
    overflow: hidden; flex-shrink: 0;
}
.sidebar__logo-icon img { width: 30px; height: 30px; object-fit: contain; border-radius: 50%; }
.sidebar__logo-text { display: flex; flex-direction: column; line-height: 1.25; }
.sidebar__brand  { font-size: 16px; font-weight: var(--fw-b); color: var(--dark); }
.sidebar__portal { font-size: 11px; color: var(--gray); }

/* Nav */
.sidebar__nav {
    display: flex;
    flex-direction: column;
    gap: 2px;
    margin-bottom: 8px;
}
.nav-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 11px 12px;
    border-radius: var(--r-md);
    font-size: 14px;
    font-weight: var(--fw-m);
    color: var(--gray);
    transition: var(--t);
}
.nav-item:hover   { background: var(--green-bg); color: var(--green); }
.nav-item--active { background: var(--green-bg); color: var(--green); }
.nav-item__icon   { width: 17px; text-align: center; font-size: 14px; flex-shrink: 0; }

/* User footer */
.sidebar__user {
    margin-top: auto;
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px;
    border-radius: var(--r-md);
    border: 1px solid var(--gray-light);
    background: var(--white-pure);
}
.user-avatar {
    width: 36px; height: 36px;
    border-radius: 50%;
    background: linear-gradient(135deg, #f59e0b, #ef4444);
    display: flex; align-items: center; justify-content: center;
    overflow: hidden; flex-shrink: 0; position: relative;
}
.user-avatar img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }
.user-avatar__fallback {
    display: flex; align-items: center; justify-content: center;
    color: white; font-size: 14px;
    position: absolute; inset: 0;
}
.user-meta {
    flex: 1; min-width: 0;
    display: flex; flex-direction: column; line-height: 1.3;
}
.user-name  { font-size: 13px; font-weight: var(--fw-b); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.user-email { font-size: 11px; color: var(--gray); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.user-logout { color: var(--gray); font-size: 14px; padding: 4px; border-radius: var(--r-sm); transition: var(--t); }
.user-logout:hover { color: var(--red); }

/* =============================================
   MAIN
   ============================================= */
.main {
    flex: 1;
    min-width: 0;
    padding: 32px 40px 56px;
    display: flex;
    flex-direction: column;
    gap: 22px;
}

/* ── Topbar ── */
.topbar {
    display: flex;
    align-items: flex-start;
    gap: 14px;
}
.topbar__hamburger {
    display: none;
    width: 40px; height: 40px;
    border-radius: var(--r-md);
    border: 1px solid var(--gray-light);
    background: var(--white-pure);
    align-items: center; justify-content: center;
    font-size: 16px; color: var(--dark);
    flex-shrink: 0; margin-top: 4px;
}
.topbar__title { flex: 1; min-width: 0; }
.topbar__title h1 { font-size: 26px; font-weight: var(--fw-b); color: var(--dark); line-height: 1.2; }
.breadcrumb {
    display: flex; align-items: center; gap: 6px;
    font-size: 13px; color: var(--gray); margin-top: 4px;
}
.breadcrumb i { font-size: 9px; }
.breadcrumb__link { color: var(--gray); transition: var(--t); }
.breadcrumb__link:hover { color: var(--green); }
.breadcrumb__active { color: var(--green); font-weight: var(--fw-m); }

/* Date filter button */
.topbar__actions { display: flex; align-items: flex-start; padding-top: 2px; }
.date-filter {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 9px 16px;
    border: 1.5px solid var(--gray-light);
    border-radius: var(--r-md);
    background: var(--white-pure);
    font-size: 13px;
    font-weight: var(--fw-m);
    color: var(--dark);
    white-space: nowrap;
    transition: var(--t);
}
.date-filter:hover  { border-color: var(--green); color: var(--green); }
.date-filter i:first-child { color: var(--gray-mid); }
.date-filter .fa-chevron-down { font-size: 10px; color: var(--gray-mid); }

/* =============================================
   MOST FREQUENT CARD
   ============================================= */
.most-frequent {
    background: var(--white-pure);
    border-radius: var(--r-xl);
    border: 1px solid var(--gray-light);
    box-shadow: var(--shadow-sm);
    padding: 24px 28px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
    transition: box-shadow .22s ease;
    max-width: 480px;
}
.most-frequent:hover { box-shadow: var(--shadow-md); }

.most-frequent__label {
    display: block;
    font-size: 10px;
    font-weight: var(--fw-m);
    text-transform: uppercase;
    letter-spacing: .8px;
    color: var(--gray-mid);
    margin-bottom: 8px;
}
.most-frequent__name {
    font-size: 26px;
    font-weight: var(--fw-b);
    color: var(--dark);
    line-height: 1.2;
}
.most-frequent__icon {
    width: 44px; height: 44px;
    border-radius: var(--r-md);
    background: var(--green-bg);
    border: 1px solid var(--green-border);
    display: flex; align-items: center; justify-content: center;
    color: var(--green);
    font-size: 20px;
    flex-shrink: 0;
}

/* =============================================
   CONTENT GRID  (left panel + right aside)
   ============================================= */
.content-grid {
    display: grid;
    grid-template-columns: 1fr 320px;
    gap: 22px;
    align-items: start;
}

/* ── History Panel ── */
.history-panel {
    background: var(--white-pure);
    border-radius: var(--r-xl);
    border: 1px solid var(--gray-light);
    box-shadow: var(--shadow-sm);
    padding: 24px;
    transition: box-shadow .22s ease;
}
.history-panel:hover { box-shadow: var(--shadow-md); }

.panel__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 20px;
}
.panel__title {
    font-size: 17px;
    font-weight: var(--fw-b);
    color: var(--dark);
}
.panel__link {
    font-size: 13px;
    font-weight: var(--fw-m);
    color: var(--gray-mid);
    transition: var(--t);
}
.panel__link:hover          { color: var(--dark); }
.panel__link--green         { color: var(--green); }
.panel__link--green:hover   { color: var(--green-light); }

/* Table head */
.history-table__head {
    display: grid;
    grid-template-columns: 2.5fr 1fr 1.2fr;
    gap: 16px;
    padding: 0 4px 12px;
    border-bottom: 1.5px solid var(--gray-light);
    margin-bottom: 4px;
}
.history-table__head span {
    font-size: 11px;
    font-weight: var(--fw-m);
    text-transform: uppercase;
    letter-spacing: .6px;
    color: var(--gray-mid);
}

/* Table body rows */
.history-table__body { display: flex; flex-direction: column; }

.history-row {
    display: grid;
    grid-template-columns: 2.5fr 1fr 1.2fr;
    gap: 16px;
    align-items: center;
    padding: 14px 4px;
    border-bottom: 1px solid var(--gray-xlight);
    transition: var(--t);
}
.history-row:last-child  { border-bottom: none; }
.history-row:hover       { background: var(--gray-xlight); border-radius: var(--r-md); }

.history-row__query {
    display: flex;
    align-items: center;
    gap: 12px;
    min-width: 0;
}

/* Coloured med icons */
.med-icon {
    width: 36px; height: 36px;
    border-radius: var(--r-md);
    display: flex; align-items: center; justify-content: center;
    font-size: 15px;
    flex-shrink: 0;
}
.med-icon--indigo { background: var(--indigo-bg); color: var(--indigo); }
.med-icon--red    { background: var(--red-bg);    color: var(--red); }
.med-icon--amber  { background: var(--amber-bg);  color: var(--amber); }
.med-icon--cyan   { background: var(--cyan-bg);   color: var(--cyan); }
.med-icon--pink   { background: var(--pink-bg);   color: var(--pink); }

.med-info { display: flex; flex-direction: column; gap: 2px; min-width: 0; }
.med-info__name {
    font-size: 14px;
    font-weight: var(--fw-m);
    color: var(--dark);
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.med-info__sub {
    font-size: 12px;
    color: var(--gray-mid);
}

.history-row__category {
    font-size: 14px;
    color: var(--dark);
}
.history-row__date {
    font-size: 13px;
    color: var(--gray-mid);
    white-space: nowrap;
}

/* =============================================
   RIGHT COLUMN
   ============================================= */
.right-col {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

/* Last Search info card */
.info-card {
    background: var(--white-pure);
    border-radius: var(--r-xl);
    border: 1px solid var(--gray-light);
    box-shadow: var(--shadow-sm);
    padding: 20px;
    display: flex;
    align-items: center;
    gap: 14px;
    transition: box-shadow .22s ease;
}
.info-card:hover { box-shadow: var(--shadow-md); }

.info-card__icon {
    width: 40px; height: 40px;
    border-radius: var(--r-md);
    background: var(--green-bg);
    border: 1px solid var(--green-border);
    display: flex; align-items: center; justify-content: center;
    color: var(--green);
    font-size: 16px;
    flex-shrink: 0;
}
.info-card__body { display: flex; flex-direction: column; gap: 3px; min-width: 0; }
.info-card__label {
    font-size: 10px;
    font-weight: var(--fw-m);
    text-transform: uppercase;
    letter-spacing: .6px;
    color: var(--gray-mid);
}
.info-card__value {
    font-size: 15px;
    font-weight: var(--fw-b);
    color: var(--dark);
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

/* Prescription Vault */
.vault-card {
    background: var(--white-pure);
    border-radius: var(--r-xl);
    border: 1px solid var(--gray-light);
    box-shadow: var(--shadow-sm);
    padding: 22px;
    transition: box-shadow .22s ease;
}
.vault-card:hover { box-shadow: var(--shadow-md); }

.vault-card__title {
    font-size: 16px;
    font-weight: var(--fw-b);
    color: var(--dark);
    margin-bottom: 16px;
}

/* 2-col grid with third item spanning naturally */
.vault-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    margin-bottom: 14px;
}

.vault-item {
    border-radius: var(--r-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    aspect-ratio: 1;
    transition: var(--t);
}
.vault-item:hover { transform: scale(1.03); }
.vault-item--gray  { background: var(--gray-xlight); color: var(--gray-mid); }
.vault-item--cream { background: #fef9ee; color: #d97706; }
/* Third item slightly smaller in its own row */
.vault-item--sm { aspect-ratio: auto; padding: 20px; }

.vault-card__btn {
    width: 100%;
    padding: 11px;
    border: 1.5px solid var(--gray-light);
    border-radius: var(--r-md);
    font-size: 13px;
    font-weight: var(--fw-m);
    color: var(--dark);
    background: var(--white-pure);
    transition: var(--t);
}
.vault-card__btn:hover {
    border-color: var(--green);
    color: var(--green);
}

/* =============================================
   RESPONSIVE — Tablet (≤1200px)
   ============================================= */
@media (max-width: 1200px) {
    .content-grid { grid-template-columns: 1fr 280px; gap: 18px; }
}

@media (max-width: 1024px) {
    .main { padding: 24px 24px 48px; gap: 18px; }
    .topbar__title h1 { font-size: 22px; }
    .most-frequent__name { font-size: 22px; }
    .content-grid { grid-template-columns: 1fr; }
    .right-col { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
}

/* =============================================
   RESPONSIVE — Mobile (≤768px)
   ============================================= */
@media (max-width: 768px) {
    body { display: block; }

    .sidebar { width: 0; position: fixed; top: 0; left: 0; z-index: 200; }
    .sidebar-inner { transform: translateX(-100%); }
    .sidebar.sidebar--open .sidebar-inner   { transform: translateX(0); }
    .sidebar.sidebar--open .sidebar-overlay { display: block; }

    .main { width: 100%; padding: 20px 16px 48px; gap: 18px; }
    .topbar__hamburger { display: flex; }

    .topbar { flex-wrap: wrap; }
    .topbar__actions { width: 100%; }
    .date-filter { width: 100%; justify-content: center; }

    .most-frequent { max-width: 100%; }
    .most-frequent__name { font-size: 20px; }

    .history-table__head,
    .history-row { grid-template-columns: 1fr; gap: 4px; }
    .history-table__head span:not(:first-child) { display: none; }
    .history-row__category,
    .history-row__date { padding-left: 48px; font-size: 12px; color: var(--gray-mid); }

    .right-col { grid-template-columns: 1fr; }
}

/* =============================================
   RESPONSIVE — Small (≤480px)
   ============================================= */
@media (max-width: 480px) {
    .main { padding: 16px 12px 40px; }
    .topbar__title h1 { font-size: 19px; }
    .history-panel,
    .info-card,
    .vault-card { padding: 16px; }
    .most-frequent { padding: 20px; }
    .most-frequent__name { font-size: 18px; }
}
