<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MediFinder – Advanced Forecast</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet" />
  <script src="https://kit.fontawesome.com/9dec450bb1.js" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
  <link rel="stylesheet" href="PharmAdvancedForecast.css" />
</head>
<body>

<!-- SIDEBAR — matches PharmDashboard exactly -->
<aside class="sidebar" id="sidebar" aria-label="Main navigation">
  <div class="s-overlay" id="sOverlay" aria-hidden="true"></div>
  <div class="s-inner">

    <div class="s-logo">
      <div class="s-logo-icon" aria-hidden="true">
        <img src="Images/Logo.png" alt="MediFinder" onerror="this.style.display='none';this.nextElementSibling.style.display='flex'">
        <span class="mf-abbr">MF</span>
      </div>
      <div class="s-logo-text">
        <span class="s-brand">MediFinder</span>
        <span class="s-portal">Pharmacist Portal</span>
      </div>
    </div>

    <nav class="s-nav" aria-label="Dashboard navigation">
      <a href="PharmDashboard.html" class="nav-a">
        <i class="fa-solid fa-table-cells-large" aria-hidden="true"></i><span>Dashboard</span>
      </a>
      <a href="PharmInfoUpdate.html" class="nav-a">
        <i class="fa-solid fa-gear" aria-hidden="true"></i><span>Information Update</span>
      </a>
      <a href="PharmStockManagement.html" class="nav-a">
        <i class="fa-solid fa-boxes-stacked" aria-hidden="true"></i><span>Stock Management</span>
      </a>
      <a href="PharmBillingHistory.html" class="nav-a">
        <i class="fa-solid fa-file-invoice-dollar" aria-hidden="true"></i><span>Billing &amp; Transaction History</span>
      </a>
      <a href="PharmExpiryAlerts.html" class="nav-a">
        <i class="fa-solid fa-bell" aria-hidden="true"></i><span>Expiry Alerts</span>
      </a>
      <a href="PharmSalesInsights.html" class="nav-a">
        <i class="fa-solid fa-chart-bar" aria-hidden="true"></i><span>Sales Insights</span>
      </a>
      <a href="PharmAdvancedForecast.html" class="nav-a active" aria-current="page">
        <i class="fa-solid fa-arrow-trend-up" aria-hidden="true"></i><span>Advanced Forecasting</span>
      </a>
    </nav>

    <div class="s-user">
      <div class="s-avatar">
        <img src="Images/PharmAvatar.jpg" alt="Arsalan Ahmed" onerror="this.style.display='none'">
      </div>
      <div class="s-umeta">
        <span class="s-uname">Arsalan Ahmed</span>
        <span class="s-urole">Lead Pharmacist</span>
      </div>
    </div>

  </div>
</aside>

<main class="main">

  <header class="topbar">
    <button class="topbar-ham" id="hamBtn" aria-label="Toggle sidebar" aria-expanded="false" aria-controls="sidebar">
      <i class="fa-solid fa-bars" aria-hidden="true"></i>
    </button>
    <div class="topbar-title">
      <h1>Advanced Forecast &amp; Predictive Insights</h1>
      <p>Pharmacist portal for advanced demand forecasting and predictive disease analytics.</p>
    </div>
  </header>

  <!-- Stat Cards -->
  <div class="stat-grid-3" role="list" aria-label="Forecast metrics">
    <article class="stat-card" role="listitem">
      <p class="stat-label">Forecast Accuracy</p>
      <p class="stat-val stat-val--green stat-val--xl">96.8%</p>
      <p class="stat-trend"><i class="fa-solid fa-arrow-up" aria-hidden="true"></i> +1.4%</p>
      <div class="acc-bar" role="progressbar" aria-valuenow="96.8" aria-valuemin="0" aria-valuemax="100" aria-label="Forecast accuracy 96.8%">
        <div class="acc-fill" style="width:96.8%"></div>
      </div>
    </article>
    <article class="stat-card" role="listitem">
      <p class="stat-label">Demand Spike</p>
      <p class="stat-val stat-val--green stat-val--xl">+42%</p>
      <p class="stat-sub">Seasonal Peak</p>
      <p class="spike-note">
        <i class="fa-solid fa-circle-exclamation" aria-hidden="true"></i>
        Driven by regional disease activity
      </p>
    </article>
    <article class="stat-card" role="listitem">
      <p class="stat-label">Stockout Risks</p>
      <p class="stat-val stat-val--red stat-val--xl">08</p>
      <p class="stat-sub">Critical Items</p>
      <p class="stat-sub">Based on 14-day supply forecast</p>
    </article>
  </div>

  <!-- Main Layout -->
  <div class="forecast-layout">

    <!-- Left: Chart + Recommendations -->
    <div class="forecast-main">

      <!-- Seasonal Chart -->
      <section class="chart-card" aria-labelledby="forecastChartHeading">
        <div class="chart-head">
          <div>
            <p class="card-title" id="forecastChartHeading">Seasonal Disease vs. Medication Demand</p>
            <p class="card-subtitle">Correlation of disease incidence and related sales</p>
          </div>
          <div class="chart-legend" aria-label="Chart legend">
            <div class="legend-item">
              <div class="legend-line legend-line--gray" aria-hidden="true"></div>
              <span>Incidence</span>
            </div>
            <div class="legend-item">
              <div class="legend-line legend-line--green" aria-hidden="true"></div>
              <span>Medication Demand</span>
            </div>
          </div>
        </div>
        <div class="chart-wrap chart-wrap--lg">
          <canvas id="forecastChart" aria-label="Seasonal disease vs medication demand chart" role="img"></canvas>
        </div>
      </section>

      <!-- Recommended Medications -->
      <section class="card" aria-labelledby="recsHeading">
        <div class="card-header">
          <h2 class="card-title" id="recsHeading">Recommended Medications List</h2>
          <span class="active-forecast">
            <i class="fa-solid fa-circle" aria-hidden="true"></i> Active Forecast: Q4 2024
          </span>
        </div>
        <div class="tbl-wrap">
          <table aria-label="Forecast-driven medication recommendations">
            <thead>
              <tr>
                <th scope="col">Medication Name</th>
                <th scope="col">Reason for Recommendation</th>
                <th scope="col">Confidence Level</th>
                <th scope="col">Suggested Quantity</th>
              </tr>
            </thead>
            <tbody id="recsBody"></tbody>
          </table>
        </div>
        <div class="recs-footer">
          <button class="btn-primary">Review All Forecast-Driven Recommendations</button>
        </div>
      </section>

    </div>

    <!-- Right: Predictive Insights -->
    <aside class="card" aria-labelledby="predictiveHeading">
      <h2 class="insights-section-title" id="predictiveHeading">
        <i class="fa-solid fa-table-cells" aria-hidden="true"></i> Predictive Insights
      </h2>

      <div class="risk-card">
        <div class="risk-head">
          <span class="risk-name">Influenza (Flu)</span>
          <span class="risk-badge risk-badge--high">HIGH RISK</span>
        </div>
        <p class="risk-sub">Expected incidence spike within 7–10 days.</p>
        <div class="risk-progress">
          <div class="progress-bar" role="progressbar" aria-valuenow="88" aria-valuemin="0" aria-valuemax="100" aria-label="Influenza risk 88%">
            <div class="progress-fill progress-fill--red" style="width:88%"></div>
          </div>
        </div>
      </div>

      <div class="risk-card">
        <div class="risk-head">
          <span class="risk-name">Dengue Fever</span>
          <span class="risk-badge risk-badge--medium">MODERATE RISK</span>
        </div>
        <p class="risk-sub">Regional monitoring advised for post-monsoon period.</p>
        <div class="risk-progress">
          <div class="progress-bar" role="progressbar" aria-valuenow="55" aria-valuemin="0" aria-valuemax="100" aria-label="Dengue fever risk 55%">
            <div class="progress-fill progress-fill--amber" style="width:55%"></div>
          </div>
        </div>
      </div>

      <div class="risk-card">
        <div class="risk-head">
          <span class="risk-name">Seasonal Allergies</span>
          <span class="risk-badge risk-badge--low">LOW RISK</span>
        </div>
        <p class="risk-sub">Pollen count remains stable below baseline.</p>
        <div class="risk-progress">
          <div class="progress-bar" role="progressbar" aria-valuenow="22" aria-valuemin="0" aria-valuemax="100" aria-label="Seasonal allergies risk 22%">
            <div class="progress-fill progress-fill--blue" style="width:22%"></div>
          </div>
        </div>
      </div>
    </aside>

  </div>
</main>

<script src="PharmAdvancedForecast.js"></script>
</body>
</html>
